# ============================================================================
# PROSODY XMPP SERVER CONFIGURATION
# ============================================================================

# Core Configuration
PROSODY_DOMAIN=localhost
PROSODY_ADMINS=admin@localhost

# ============================================================================
# PORT CONFIGURATION
# ============================================================================

# Standard XMPP ports (usually no need to change)
PROSODY_C2S_PORT=5222
PROSODY_S2S_PORT=5269

# HTTP/HTTPS ports for web services
# Option 1: Standard ports (no port needed in URLs)
# PROSODY_HTTP_PORT=80
# PROSODY_HTTPS_PORT=443

# Option 2: Default Prosody ports (requires :5280/:5281 in URLs)
PROSODY_HTTP_PORT=5280
PROSODY_HTTPS_PORT=5281

# Option 3: Alternative ports (if 80/443 are occupied)
# PROSODY_HTTP_PORT=8080
# PROSODY_HTTPS_PORT=8443

# ============================================================================
# WEB SERVICES ACCESS
# ============================================================================

# With standard ports (80/443):
# - Admin Panel: https://yourdomain.com/admin
# - Metrics: https://yourdomain.com/metrics  
# - File Upload: https://yourdomain.com/upload
# - WebSocket: wss://yourdomain.com/xmpp-websocket

# With default ports (5280/5281):
# - Admin Panel: https://yourdomain.com:5281/admin
# - Metrics: https://yourdomain.com:5281/metrics
# - File Upload: https://yourdomain.com:5281/upload  
# - WebSocket: wss://yourdomain.com:5281/xmpp-websocket

# ============================================================================
# DATABASE CONFIGURATION
# ============================================================================

# Database settings
PROSODY_STORAGE=sqlite
PROSODY_DB_DRIVER=SQLite3

# PostgreSQL settings (if using PostgreSQL)
PROSODY_DB_HOST=postgres
PROSODY_DB_PORT=5432
PROSODY_DB_NAME=prosody
PROSODY_DB_USER=prosody
PROSODY_DB_PASSWORD=changeMe123!

# ============================================================================
# FEATURE CONTROL
# ============================================================================

# Module stability levels
PROSODY_ENABLE_SECURITY=true
PROSODY_ENABLE_MODERN=true
PROSODY_ENABLE_BETA=true
PROSODY_ENABLE_ALPHA=false

# Optional features
PROSODY_ENABLE_HTTP=true
PROSODY_ENABLE_ADMIN=true

# Registration settings
PROSODY_ALLOW_REGISTRATION=false

# ============================================================================
# PERFORMANCE SETTINGS  
# ============================================================================

# Rate limiting
PROSODY_C2S_RATE=10kb/s
PROSODY_C2S_BURST=25kb
PROSODY_S2S_RATE=30kb/s
PROSODY_S2S_BURST=100kb

# Logging
PROSODY_LOG_LEVEL=info
PROSODY_LOG_FORMAT=default

# ============================================================================
# ARCHIVE AND RETENTION
# ============================================================================

# Archive settings
PROSODY_ARCHIVE_POLICY=roster
PROSODY_ARCHIVE_EXPIRE=1y

# MUC settings
PROSODY_MUC_LOG_EXPIRE=1y
PROSODY_MUC_HISTORY=50

# ============================================================================
# FILE UPLOAD SETTINGS
# ============================================================================

# Upload settings (if HTTP enabled)
PROSODY_UPLOAD_SIZE_LIMIT=10485760  # 10MB
PROSODY_UPLOAD_EXPIRE=2592000       # 30 days

# ============================================================================
# TURN/STUN CONFIGURATION (for voice/video calls)
# ============================================================================

# TURN server settings
TURN_PASSWORD=changeMe123!
TURN_SECRET=changeMe123!
TURN_REALM=turn.yourdomain.com

# ============================================================================
# MONITORING CONFIGURATION
# ============================================================================

# Monitoring settings
PROMETHEUS_DATA_RETENTION=30d
GRAFANA_ADMIN_PASSWORD=changeMe123!

# ============================================================================
# SECURITY SETTINGS
# ============================================================================

# Security hardening
PROSODY_SECURITY_POLICY=medium
PROSODY_TLS_POLICY=strict

# Contact information (required for compliance)
PROSODY_CONTACT_ADMIN=admin@yourdomain.com
PROSODY_CONTACT_ABUSE=abuse@yourdomain.com 