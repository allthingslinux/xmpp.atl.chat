<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Converse</title>
    <link rel="stylesheet" href="https://cdn.conversejs.org/11.0.1/dist/converse.min.css">
</head>

<body>
    <script src="https://cdn.conversejs.org/11.0.1/dist/converse.min.js" charset="utf-8"></script>
    <script>
        // Initialize Converse in fullscreen mode against your Prosody endpoints
        window.addEventListener('load', function () {
            if (window.converse && window.converse.initialize) {
                // Development configuration - automatically detect environment
                var isLocalhost = window.location.hostname === 'localhost' || window.location.hostname === '127.0.0.1';

                window.converse.initialize({
                    view_mode: 'fullscreen',
                    authentication: 'login',
                    default_domain: isLocalhost ? 'localhost' : 'atl.chat',
                    assets_path: 'https://cdn.conversejs.org/11.0.1/dist/',
                    bosh_service_url: isLocalhost ? 'http://localhost:8080/http-bind' : 'https://xmpp.atl.chat/http-bind',
                    websocket_url: isLocalhost ? 'ws://localhost:8080/xmpp-websocket' : 'wss://xmpp.atl.chat/xmpp-websocket'
                });
            }
        });
    </script>
</body>

</html>